0000              1   ;--------------------------------------------------------
0000              2   ; File Created by C51
0000              3   ; Version 1.0.0 #1069 (Apr 23 2015) (MSVC)
0000              4   ; This file was generated Sat Apr 02 16:55:19 2016
0000              5   ;--------------------------------------------------------
                  5   $name C851F381_ADC_any_pins
                  6   $optc51 --model-small
                  7   $printf_float
0000              9            R_DSEG    segment data
0000             10            R_CSEG    segment code
0000             11            R_BSEG    segment bit
0000             12            R_XSEG    segment xdata
0000             13            R_PSEG    segment xdata
0000             14            R_ISEG    segment idata
0000             15            R_OSEG    segment data overlay
0000             16            BIT_BANK  segment data overlay
0000             17            R_HOME    segment code
0000             18            R_GSINIT  segment code
0000             19            R_IXSEG   segment xdata
0000             20            R_CONST   segment code
0000             21            R_XINIT   segment code
0000             22            R_DINIT   segment code
0000             23   
0000             24   ;--------------------------------------------------------
0000             25   ; Public variables in this module
0000             26   ;--------------------------------------------------------
0000             27            public _InitPinADC_PARM_2
0000             28            public _main
0000             29            public _Volts_at_Pin
0000             30            public _ADC_at_Pin
0000             31            public _InitPinADC
0000             32            public _InitADC
0000             33            public _waitms
0000             34            public _Timer3us
0000             35            public _TIMER0_Init
0000             36            public _UART0_Init
0000             37            public _SYSCLK_Init
0000             38            public _PORT_Init
0000             39            public __c51_external_startup
0000             40            public _overflow_count
0000             41            public _phase
0000             42            public _rms_voltage_test
0000             43            public _rms_voltage_ref
0000             44            public _freq
0000             45            public _period_count
0000             46            public _period_sum
0000             47            public _period
0000             48            public _period_avg
0000             49   ;--------------------------------------------------------
0000             50   ; Special Function Registers
0000             51   ;--------------------------------------------------------
0000             52   _P0             DATA 0x80
0000             53   _SP             DATA 0x81
0000             54   _DPL            DATA 0x82
0000             55   _DPH            DATA 0x83
0000             56   _EMI0TC         DATA 0x84
0000             57   _EMI0CF         DATA 0x85
0000             58   _OSCLCN         DATA 0x86
0000             59   _PCON           DATA 0x87
0000             60   _TCON           DATA 0x88
0000             61   _TMOD           DATA 0x89
0000             62   _TL0            DATA 0x8a
0000             63   _TL1            DATA 0x8b
0000             64   _TH0            DATA 0x8c
0000             65   _TH1            DATA 0x8d
0000             66   _CKCON          DATA 0x8e
0000             67   _PSCTL          DATA 0x8f
0000             68   _P1             DATA 0x90
0000             69   _TMR3CN         DATA 0x91
0000             70   _TMR4CN         DATA 0x91
0000             71   _TMR3RLL        DATA 0x92
0000             72   _TMR4RLL        DATA 0x92
0000             73   _TMR3RLH        DATA 0x93
0000             74   _TMR4RLH        DATA 0x93
0000             75   _TMR3L          DATA 0x94
0000             76   _TMR4L          DATA 0x94
0000             77   _TMR3H          DATA 0x95
0000             78   _TMR4H          DATA 0x95
0000             79   _USB0ADR        DATA 0x96
0000             80   _USB0DAT        DATA 0x97
0000             81   _SCON           DATA 0x98
0000             82   _SCON0          DATA 0x98
0000             83   _SBUF           DATA 0x99
0000             84   _SBUF0          DATA 0x99
0000             85   _CPT1CN         DATA 0x9a
0000             86   _CPT0CN         DATA 0x9b
0000             87   _CPT1MD         DATA 0x9c
0000             88   _CPT0MD         DATA 0x9d
0000             89   _CPT1MX         DATA 0x9e
0000             90   _CPT0MX         DATA 0x9f
0000             91   _P2             DATA 0xa0
0000             92   _SPI0CFG        DATA 0xa1
0000             93   _SPI0CKR        DATA 0xa2
0000             94   _SPI0DAT        DATA 0xa3
0000             95   _P0MDOUT        DATA 0xa4
0000             96   _P1MDOUT        DATA 0xa5
0000             97   _P2MDOUT        DATA 0xa6
0000             98   _P3MDOUT        DATA 0xa7
0000             99   _IE             DATA 0xa8
0000            100   _CLKSEL         DATA 0xa9
0000            101   _EMI0CN         DATA 0xaa
0000            102   __XPAGE         DATA 0xaa
0000            103   _SBCON1         DATA 0xac
0000            104   _P4MDOUT        DATA 0xae
0000            105   _PFE0CN         DATA 0xaf
0000            106   _P3             DATA 0xb0
0000            107   _OSCXCN         DATA 0xb1
0000            108   _OSCICN         DATA 0xb2
0000            109   _OSCICL         DATA 0xb3
0000            110   _SBRLL1         DATA 0xb4
0000            111   _SBRLH1         DATA 0xb5
0000            112   _FLSCL          DATA 0xb6
0000            113   _FLKEY          DATA 0xb7
0000            114   _IP             DATA 0xb8
0000            115   _CLKMUL         DATA 0xb9
0000            116   _SMBTC          DATA 0xb9
0000            117   _AMX0N          DATA 0xba
0000            118   _AMX0P          DATA 0xbb
0000            119   _ADC0CF         DATA 0xbc
0000            120   _ADC0L          DATA 0xbd
0000            121   _ADC0H          DATA 0xbe
0000            122   _SFRPAGE        DATA 0xbf
0000            123   _SMB0CN         DATA 0xc0
0000            124   _SMB1CN         DATA 0xc0
0000            125   _SMB0CF         DATA 0xc1
0000            126   _SMB1CF         DATA 0xc1
0000            127   _SMB0DAT        DATA 0xc2
0000            128   _SMB1DAT        DATA 0xc2
0000            129   _ADC0GTL        DATA 0xc3
0000            130   _ADC0GTH        DATA 0xc4
0000            131   _ADC0LTL        DATA 0xc5
0000            132   _ADC0LTH        DATA 0xc6
0000            133   _P4             DATA 0xc7
0000            134   _TMR2CN         DATA 0xc8
0000            135   _TMR5CN         DATA 0xc8
0000            136   _REG01CN        DATA 0xc9
0000            137   _TMR2RLL        DATA 0xca
0000            138   _TMR5RLL        DATA 0xca
0000            139   _TMR2RLH        DATA 0xcb
0000            140   _TMR5RLH        DATA 0xcb
0000            141   _TMR2L          DATA 0xcc
0000            142   _TMR5L          DATA 0xcc
0000            143   _TMR2H          DATA 0xcd
0000            144   _TMR5H          DATA 0xcd
0000            145   _SMB0ADM        DATA 0xce
0000            146   _SMB1ADM        DATA 0xce
0000            147   _SMB0ADR        DATA 0xcf
0000            148   _SMB1ADR        DATA 0xcf
0000            149   _PSW            DATA 0xd0
0000            150   _REF0CN         DATA 0xd1
0000            151   _SCON1          DATA 0xd2
0000            152   _SBUF1          DATA 0xd3
0000            153   _P0SKIP         DATA 0xd4
0000            154   _P1SKIP         DATA 0xd5
0000            155   _P2SKIP         DATA 0xd6
0000            156   _USB0XCN        DATA 0xd7
0000            157   _PCA0CN         DATA 0xd8
0000            158   _PCA0MD         DATA 0xd9
0000            159   _PCA0CPM0       DATA 0xda
0000            160   _PCA0CPM1       DATA 0xdb
0000            161   _PCA0CPM2       DATA 0xdc
0000            162   _PCA0CPM3       DATA 0xdd
0000            163   _PCA0CPM4       DATA 0xde
0000            164   _P3SKIP         DATA 0xdf
0000            165   _ACC            DATA 0xe0
0000            166   _XBR0           DATA 0xe1
0000            167   _XBR1           DATA 0xe2
0000            168   _XBR2           DATA 0xe3
0000            169   _IT01CF         DATA 0xe4
0000            170   _CKCON1         DATA 0xe4
0000            171   _SMOD1          DATA 0xe5
0000            172   _EIE1           DATA 0xe6
0000            173   _EIE2           DATA 0xe7
0000            174   _ADC0CN         DATA 0xe8
0000            175   _PCA0CPL1       DATA 0xe9
0000            176   _PCA0CPH1       DATA 0xea
0000            177   _PCA0CPL2       DATA 0xeb
0000            178   _PCA0CPH2       DATA 0xec
0000            179   _PCA0CPL3       DATA 0xed
0000            180   _PCA0CPH3       DATA 0xee
0000            181   _RSTSRC         DATA 0xef
0000            182   _B              DATA 0xf0
0000            183   _P0MDIN         DATA 0xf1
0000            184   _P1MDIN         DATA 0xf2
0000            185   _P2MDIN         DATA 0xf3
0000            186   _P3MDIN         DATA 0xf4
0000            187   _P4MDIN         DATA 0xf5
0000            188   _EIP1           DATA 0xf6
0000            189   _EIP2           DATA 0xf7
0000            190   _SPI0CN         DATA 0xf8
0000            191   _PCA0L          DATA 0xf9
0000            192   _PCA0H          DATA 0xfa
0000            193   _PCA0CPL0       DATA 0xfb
0000            194   _PCA0CPH0       DATA 0xfc
0000            195   _PCA0CPL4       DATA 0xfd
0000            196   _PCA0CPH4       DATA 0xfe
0000            197   _VDM0CN         DATA 0xff
0000            198   _DPTR           DATA 0x8382
0000            199   _TMR2RL         DATA 0xcbca
0000            200   _TMR3RL         DATA 0x9392
0000            201   _TMR4RL         DATA 0x9392
0000            202   _TMR5RL         DATA 0xcbca
0000            203   _TMR2           DATA 0xcdcc
0000            204   _TMR3           DATA 0x9594
0000            205   _TMR4           DATA 0x9594
0000            206   _TMR5           DATA 0xcdcc
0000            207   _SBRL1          DATA 0xb5b4
0000            208   _ADC0           DATA 0xbebd
0000            209   _ADC0GT         DATA 0xc4c3
0000            210   _ADC0LT         DATA 0xc6c5
0000            211   _PCA0           DATA 0xfaf9
0000            212   _PCA0CP1        DATA 0xeae9
0000            213   _PCA0CP2        DATA 0xeceb
0000            214   _PCA0CP3        DATA 0xeeed
0000            215   _PCA0CP0        DATA 0xfcfb
0000            216   _PCA0CP4        DATA 0xfefd
0000            217   ;--------------------------------------------------------
0000            218   ; special function bits
0000            219   ;--------------------------------------------------------
0000            220   _P0_0           BIT 0x80
0000            221   _P0_1           BIT 0x81
0000            222   _P0_2           BIT 0x82
0000            223   _P0_3           BIT 0x83
0000            224   _P0_4           BIT 0x84
0000            225   _P0_5           BIT 0x85
0000            226   _P0_6           BIT 0x86
0000            227   _P0_7           BIT 0x87
0000            228   _TF1            BIT 0x8f
0000            229   _TR1            BIT 0x8e
0000            230   _TF0            BIT 0x8d
0000            231   _TR0            BIT 0x8c
0000            232   _IE1            BIT 0x8b
0000            233   _IT1            BIT 0x8a
0000            234   _IE0            BIT 0x89
0000            235   _IT0            BIT 0x88
0000            236   _P1_0           BIT 0x90
0000            237   _P1_1           BIT 0x91
0000            238   _P1_2           BIT 0x92
0000            239   _P1_3           BIT 0x93
0000            240   _P1_4           BIT 0x94
0000            241   _P1_5           BIT 0x95
0000            242   _P1_6           BIT 0x96
0000            243   _P1_7           BIT 0x97
0000            244   _S0MODE         BIT 0x9f
0000            245   _SCON0_6        BIT 0x9e
0000            246   _MCE0           BIT 0x9d
0000            247   _REN0           BIT 0x9c
0000            248   _TB80           BIT 0x9b
0000            249   _RB80           BIT 0x9a
0000            250   _TI0            BIT 0x99
0000            251   _RI0            BIT 0x98
0000            252   _SCON_6         BIT 0x9e
0000            253   _MCE            BIT 0x9d
0000            254   _REN            BIT 0x9c
0000            255   _TB8            BIT 0x9b
0000            256   _RB8            BIT 0x9a
0000            257   _TI             BIT 0x99
0000            258   _RI             BIT 0x98
0000            259   _P2_0           BIT 0xa0
0000            260   _P2_1           BIT 0xa1
0000            261   _P2_2           BIT 0xa2
0000            262   _P2_3           BIT 0xa3
0000            263   _P2_4           BIT 0xa4
0000            264   _P2_5           BIT 0xa5
0000            265   _P2_6           BIT 0xa6
0000            266   _P2_7           BIT 0xa7
0000            267   _EA             BIT 0xaf
0000            268   _ESPI0          BIT 0xae
0000            269   _ET2            BIT 0xad
0000            270   _ES0            BIT 0xac
0000            271   _ET1            BIT 0xab
0000            272   _EX1            BIT 0xaa
0000            273   _ET0            BIT 0xa9
0000            274   _EX0            BIT 0xa8
0000            275   _P3_0           BIT 0xb0
0000            276   _P3_1           BIT 0xb1
0000            277   _P3_2           BIT 0xb2
0000            278   _P3_3           BIT 0xb3
0000            279   _P3_4           BIT 0xb4
0000            280   _P3_5           BIT 0xb5
0000            281   _P3_6           BIT 0xb6
0000            282   _P3_7           BIT 0xb7
0000            283   _IP_7           BIT 0xbf
0000            284   _PSPI0          BIT 0xbe
0000            285   _PT2            BIT 0xbd
0000            286   _PS0            BIT 0xbc
0000            287   _PT1            BIT 0xbb
0000            288   _PX1            BIT 0xba
0000            289   _PT0            BIT 0xb9
0000            290   _PX0            BIT 0xb8
0000            291   _MASTER0        BIT 0xc7
0000            292   _TXMODE0        BIT 0xc6
0000            293   _STA0           BIT 0xc5
0000            294   _STO0           BIT 0xc4
0000            295   _ACKRQ0         BIT 0xc3
0000            296   _ARBLOST0       BIT 0xc2
0000            297   _ACK0           BIT 0xc1
0000            298   _SI0            BIT 0xc0
0000            299   _MASTER1        BIT 0xc7
0000            300   _TXMODE1        BIT 0xc6
0000            301   _STA1           BIT 0xc5
0000            302   _STO1           BIT 0xc4
0000            303   _ACKRQ1         BIT 0xc3
0000            304   _ARBLOST1       BIT 0xc2
0000            305   _ACK1           BIT 0xc1
0000            306   _SI1            BIT 0xc0
0000            307   _TF2            BIT 0xcf
0000            308   _TF2H           BIT 0xcf
0000            309   _TF2L           BIT 0xce
0000            310   _TF2LEN         BIT 0xcd
0000            311   _TF2CEN         BIT 0xcc
0000            312   _T2SPLIT        BIT 0xcb
0000            313   _TR2            BIT 0xca
0000            314   _T2CSS          BIT 0xc9
0000            315   _T2XCLK         BIT 0xc8
0000            316   _TF5H           BIT 0xcf
0000            317   _TF5L           BIT 0xce
0000            318   _TF5LEN         BIT 0xcd
0000            319   _TMR5CN_4       BIT 0xcc
0000            320   _T5SPLIT        BIT 0xcb
0000            321   _TR5            BIT 0xca
0000            322   _TMR5CN_1       BIT 0xc9
0000            323   _T5XCLK         BIT 0xc8
0000            324   _CY             BIT 0xd7
0000            325   _AC             BIT 0xd6
0000            326   _F0             BIT 0xd5
0000            327   _RS1            BIT 0xd4
0000            328   _RS0            BIT 0xd3
0000            329   _OV             BIT 0xd2
0000            330   _F1             BIT 0xd1
0000            331   _PARITY         BIT 0xd0
0000            332   _CF             BIT 0xdf
0000            333   _CR             BIT 0xde
0000            334   _PCA0CN_5       BIT 0xde
0000            335   _CCF4           BIT 0xdc
0000            336   _CCF3           BIT 0xdb
0000            337   _CCF2           BIT 0xda
0000            338   _CCF1           BIT 0xd9
0000            339   _CCF0           BIT 0xd8
0000            340   _ACC_7          BIT 0xe7
0000            341   _ACC_6          BIT 0xe6
0000            342   _ACC_5          BIT 0xe5
0000            343   _ACC_4          BIT 0xe4
0000            344   _ACC_3          BIT 0xe3
0000            345   _ACC_2          BIT 0xe2
0000            346   _ACC_1          BIT 0xe1
0000            347   _ACC_0          BIT 0xe0
0000            348   _AD0EN          BIT 0xef
0000            349   _AD0TM          BIT 0xee
0000            350   _AD0INT         BIT 0xed
0000            351   _AD0BUSY        BIT 0xec
0000            352   _AD0WINT        BIT 0xeb
0000            353   _AD0CM2         BIT 0xea
0000            354   _AD0CM1         BIT 0xe9
0000            355   _AD0CM0         BIT 0xe8
0000            356   _B_7            BIT 0xf7
0000            357   _B_6            BIT 0xf6
0000            358   _B_5            BIT 0xf5
0000            359   _B_4            BIT 0xf4
0000            360   _B_3            BIT 0xf3
0000            361   _B_2            BIT 0xf2
0000            362   _B_1            BIT 0xf1
0000            363   _B_0            BIT 0xf0
0000            364   _SPIF           BIT 0xff
0000            365   _WCOL           BIT 0xfe
0000            366   _MODF           BIT 0xfd
0000            367   _RXOVRN         BIT 0xfc
0000            368   _NSSMD1         BIT 0xfb
0000            369   _NSSMD0         BIT 0xfa
0000            370   _TXBMT          BIT 0xf9
0000            371   _SPIEN          BIT 0xf8
0000            372   ;--------------------------------------------------------
0000            373   ; overlayable register banks
0000            374   ;--------------------------------------------------------
0000            375            rbank0 segment data overlay
0000            376   ;--------------------------------------------------------
0000            377   ; internal ram data
0000            378   ;--------------------------------------------------------
0000            379            rseg R_DSEG
0000            380   _period_avg:
0000            381            ds 4
0004            382   _period:
0004            383            ds 4
0008            384   _period_sum:
0008            385            ds 4
000C            386   _period_count:
000C            387            ds 4
0010            388   _freq:
0010            389            ds 4
0014            390   _rms_voltage_ref:
0014            391            ds 4
0018            392   _rms_voltage_test:
0018            393            ds 4
001C            394   _phase:
001C            395            ds 4
0020            396   _overflow_count:
0020            397            ds 1
0021            398   _main_V_1_90:
0021            399            ds 16
0031            400   _main_sloc0_1_0:
0031            401            ds 4
0035            402   _main_sloc1_1_0:
0035            403            ds 4
0039            404   ;--------------------------------------------------------
0039            405   ; overlayable items in internal ram 
0039            406   ;--------------------------------------------------------
0000            407            rseg    R_OSEG
0000            408            rseg    R_OSEG
0000            409   _InitPinADC_PARM_2:
0000            410            ds 1
0001            411            rseg    R_OSEG
0001            412   ;--------------------------------------------------------
0001            413   ; indirectly addressable internal ram data
0001            414   ;--------------------------------------------------------
0000            415            rseg R_ISEG
0000            416   ;--------------------------------------------------------
0000            417   ; absolute internal ram data
0000            418   ;--------------------------------------------------------
0000            419            DSEG
0000            420   ;--------------------------------------------------------
0000            421   ; bit data
0000            422   ;--------------------------------------------------------
0000            423            rseg R_BSEG
0000            424   ;--------------------------------------------------------
0000            425   ; paged external ram data
0000            426   ;--------------------------------------------------------
0000            427            rseg R_PSEG
0000            428   ;--------------------------------------------------------
0000            429   ; external ram data
0000            430   ;--------------------------------------------------------
0000            431            rseg R_XSEG
0000            432   ;--------------------------------------------------------
0000            433   ; absolute external ram data
0000            434   ;--------------------------------------------------------
0000            435            XSEG
0000            436   ;--------------------------------------------------------
0000            437   ; external initialized ram data
0000            438   ;--------------------------------------------------------
0000            439            rseg R_IXSEG
0000            440            rseg R_HOME
0000            441            rseg R_GSINIT
0000            442            rseg R_CSEG
0000            443   ;--------------------------------------------------------
0000            444   ; Reset entry point and interrupt vectors
0000            445   ;--------------------------------------------------------
0000            446            CSEG at 0x0000
0000 020100     447            ljmp    _crt0
0003            448   ;--------------------------------------------------------
0003            449   ; global & static initialisations
0003            450   ;--------------------------------------------------------
0000            451            rseg R_HOME
0000            452            rseg R_GSINIT
0000            453            rseg R_GSINIT
0000            454   ;--------------------------------------------------------
0000            455   ; data variables initialization
0000            456   ;--------------------------------------------------------
0000            457            rseg R_DINIT
0000            458   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:22: volatile float period_avg=0;
0000 757800     459            mov     _period_avg,#0x00
0003 757900     460            mov     (_period_avg + 1),#0x00
0006 757A00     461            mov     (_period_avg + 2),#0x00
0009 757B00     462            mov     (_period_avg + 3),#0x00
000C            463   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:23: volatile float period=0;
000C 753800     464            mov     _period,#0x00
000F 753900     465            mov     (_period + 1),#0x00
0012 753A00     466            mov     (_period + 2),#0x00
0015 753B00     467            mov     (_period + 3),#0x00
0018            468   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:24: volatile float period_sum=0;
0018 75F800     469            mov     _period_sum,#0x00
001B 75F900     470            mov     (_period_sum + 1),#0x00
001E 75FA00     471            mov     (_period_sum + 2),#0x00
0021 75FB00     472            mov     (_period_sum + 3),#0x00
0024            473   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:25: volatile float period_count = 0;
0024 75B800     474            mov     _period_count,#0x00
0027 75B900     475            mov     (_period_count + 1),#0x00
002A 75BA00     476            mov     (_period_count + 2),#0x00
002D 75BB00     477            mov     (_period_count + 3),#0x00
0030            478   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:26: volatile float freq = 0;
0030 757800     479            mov     _freq,#0x00
0033 757900     480            mov     (_freq + 1),#0x00
0036 757A00     481            mov     (_freq + 2),#0x00
0039 757B00     482            mov     (_freq + 3),#0x00
003C            483   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:27: volatile float rms_voltage_ref = 0;
003C 753800     484            mov     _rms_voltage_ref,#0x00
003F 753900     485            mov     (_rms_voltage_ref + 1),#0x00
0042 753A00     486            mov     (_rms_voltage_ref + 2),#0x00
0045 753B00     487            mov     (_rms_voltage_ref + 3),#0x00
0048            488   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:28: volatile float rms_voltage_test = 0;
0048 75E800     489            mov     _rms_voltage_test,#0x00
004B 75E900     490            mov     (_rms_voltage_test + 1),#0x00
004E 75EA00     491            mov     (_rms_voltage_test + 2),#0x00
0051 75EB00     492            mov     (_rms_voltage_test + 3),#0x00
0054            493   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:29: volatile float phase = 0;
0054 759800     494            mov     _phase,#0x00
0057 759900     495            mov     (_phase + 1),#0x00
005A 759A00     496            mov     (_phase + 2),#0x00
005D 759B00     497            mov     (_phase + 3),#0x00
0060            498            ; The linker places a 'ret' at the end of segment R_DINIT.
0060            499   ;--------------------------------------------------------
0060            500   ; code
0060            501   ;--------------------------------------------------------
0000            502            rseg R_CSEG
0000            503   ;------------------------------------------------------------
0000            504   ;Allocation info for local variables in function '_c51_external_startup'
0000            505   ;------------------------------------------------------------
0000            506   ;------------------------------------------------------------
0000            507   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:34: char _c51_external_startup (void)
0000            508   ;        -----------------------------------------
0000            509   ;         function _c51_external_startup
0000            510   ;        -----------------------------------------
0000            511   __c51_external_startup:
0000            512            using   0
0000            513   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:36: PCA0MD&=(~0x40) ;    // DISABLE WDT: clear Watchdog Enable bit
0000 53D9BF     514            anl     _PCA0MD,#0xBF
0003            515   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:37: VDM0CN=0x80; // enable VDD monitor
0003 75FF80     516            mov     _VDM0CN,#0x80
0006            517   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:38: RSTSRC=0x02|0x04; // Enable reset on missing clock detector and VDD
0006 75EF06     518            mov     _RSTSRC,#0x06
0009            519   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:46: CLKSEL|=0b_0000_0011; // SYSCLK derived from the Internal High-Frequency Oscillator / 1.
0009 43A903     520            orl     _CLKSEL,#0x03
000C            521   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:50: OSCICN |= 0x03; // Configure internal oscillator for its maximum frequency
000C 43B203     522            orl     _OSCICN,#0x03
000F            523   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:53: SCON0 = 0x10; 
000F 759810     524            mov     _SCON0,#0x10
0012            525   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:55: TH1 = 0x10000-((SYSCLK/BAUDRATE)/2L);
0012 758D30     526            mov     _TH1,#0x30
0015            527   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:56: CKCON &= ~0x0B;                  // T1M = 1; SCA1:0 = xx
0015 538EF4     528            anl     _CKCON,#0xF4
0018            529   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:57: CKCON |=  0x08;
0018 438E08     530            orl     _CKCON,#0x08
001B            531   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:70: TL1 = TH1;      // Init Timer1
001B 858D8B     532            mov     _TL1,_TH1
001E            533   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:71: TMOD &= ~0xf0;  // TMOD: timer 1 in 8-bit autoreload
001E 53890F     534            anl     _TMOD,#0x0F
0021            535   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:72: TMOD |=  0x20;                       
0021 438920     536            orl     _TMOD,#0x20
0024            537   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:73: TR1 = 1; // START Timer1
0024 D28E       538            setb    _TR1
0026            539   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:74: TI = 1;  // Indicate TX0 ready
0026 D299       540            setb    _TI
0028            541   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:77: P0MDOUT |= 0x01;  // set P0.0 and P0.4 as push-pull outputs
0028 43A401     542            orl     _P0MDOUT,#0x01
002B            543   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:78: XBR0 = 0x01;      // Enable UART0 on P0.4(TX0) and P0.5(RX0)
002B 75E101     544            mov     _XBR0,#0x01
002E            545   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:79: XBR1 = 0x40;      // enable crossbar
002E 75E240     546            mov     _XBR1,#0x40
0031            547   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:81: return 0;
0031 758200     548            mov     dpl,#0x00
0034 22         549            ret
0035            550   ;------------------------------------------------------------
0035            551   ;Allocation info for local variables in function 'PORT_Init'
0035            552   ;------------------------------------------------------------
0035            553   ;------------------------------------------------------------
0035            554   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:84: void PORT_Init (void)
0035            555   ;        -----------------------------------------
0035            556   ;         function PORT_Init
0035            557   ;        -----------------------------------------
0035            558   _PORT_Init:
0035            559   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:86: P0MDOUT |= 0x10; // Enable UART TX as push-pull output
0035 43A410     560            orl     _P0MDOUT,#0x10
0038            561   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:87: XBR0=0b_0000_0001; // Enable UART on P0.4(TX) and P0.5(RX)                    
0038 75E101     562            mov     _XBR0,#0x01
003B            563   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:88: XBR1=0b_0101_0000; // Enable crossbar.  Enable T0 input.
003B 75E250     564            mov     _XBR1,#0x50
003E            565   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:89: XBR2=0b_0000_0000;
003E 75E300     566            mov     _XBR2,#0x00
0041 22         567            ret
0042            568   ;------------------------------------------------------------
0042            569   ;Allocation info for local variables in function 'SYSCLK_Init'
0042            570   ;------------------------------------------------------------
0042            571   ;------------------------------------------------------------
0042            572   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:92: void SYSCLK_Init (void)
0042            573   ;        -----------------------------------------
0042            574   ;         function SYSCLK_Init
0042            575   ;        -----------------------------------------
0042            576   _SYSCLK_Init:
0042            577   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:100: CLKSEL|=0b_0000_0011; // SYSCLK derived from the Internal High-Frequency Oscillator / 1.
0042 43A903     578            orl     _CLKSEL,#0x03
0045            579   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:104: OSCICN |= 0x03;   // Configure internal oscillator for its maximum frequency
0045 43B203     580            orl     _OSCICN,#0x03
0048            581   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:105: RSTSRC  = 0x04;   // Enable missing clock detector
0048 75EF04     582            mov     _RSTSRC,#0x04
004B 22         583            ret
004C            584   ;------------------------------------------------------------
004C            585   ;Allocation info for local variables in function 'UART0_Init'
004C            586   ;------------------------------------------------------------
004C            587   ;------------------------------------------------------------
004C            588   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:108: void UART0_Init (void)
004C            589   ;        -----------------------------------------
004C            590   ;         function UART0_Init
004C            591   ;        -----------------------------------------
004C            592   _UART0_Init:
004C            593   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:110: SCON0 = 0x10;
004C 759810     594            mov     _SCON0,#0x10
004F            595   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:113: TH1 = 0x10000-((SYSCLK/BAUDRATE)/2L);
004F 758D30     596            mov     _TH1,#0x30
0052            597   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:114: CKCON &= ~0x0B;                  // T1M = 1; SCA1:0 = xx
0052 538EF4     598            anl     _CKCON,#0xF4
0055            599   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:115: CKCON |=  0x08;
0055 438E08     600            orl     _CKCON,#0x08
0058            601   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:128: TL1 = TH1;      // Init Timer1
0058 858D8B     602            mov     _TL1,_TH1
005B            603   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:129: TMOD &= ~0xf0;  // TMOD: timer 1 in 8-bit autoreload
005B 53890F     604            anl     _TMOD,#0x0F
005E            605   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:130: TMOD |=  0x20;                       
005E 438920     606            orl     _TMOD,#0x20
0061            607   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:131: TR1 = 1; // START Timer1
0061 D28E       608            setb    _TR1
0063            609   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:132: TI = 1;  // Indicate TX0 ready
0063 D299       610            setb    _TI
0065 22         611            ret
0066            612   ;------------------------------------------------------------
0066            613   ;Allocation info for local variables in function 'TIMER0_Init'
0066            614   ;------------------------------------------------------------
0066            615   ;------------------------------------------------------------
0066            616   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:135: void TIMER0_Init(void)
0066            617   ;        -----------------------------------------
0066            618   ;         function TIMER0_Init
0066            619   ;        -----------------------------------------
0066            620   _TIMER0_Init:
0066            621   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:137: TMOD&=0b_1111_0000; // Set the bits of Timer/Counter 0 to zero
0066 5389F0     622            anl     _TMOD,#0xF0
0069            623   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:138: TMOD|=0b_0000_0001; // Timer/Counter 0 used as a 16-bit timer
0069 438901     624            orl     _TMOD,#0x01
006C            625   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:139: TR0=0; // Stop Timer/Counter 0
006C C28C       626            clr     _TR0
006E 22         627            ret
006F            628   ;------------------------------------------------------------
006F            629   ;Allocation info for local variables in function 'Timer3us'
006F            630   ;------------------------------------------------------------
006F            631   ;us                        Allocated to registers r2 
006F            632   ;i                         Allocated to registers r3 
006F            633   ;------------------------------------------------------------
006F            634   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:143: void Timer3us(unsigned char us)
006F            635   ;        -----------------------------------------
006F            636   ;         function Timer3us
006F            637   ;        -----------------------------------------
006F            638   _Timer3us:
006F AA82       639            mov     r2,dpl
0071            640   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:148: CKCON|=0b_0100_0000;
0071 438E40     641            orl     _CKCON,#0x40
0074            642   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:150: TMR3RL = (-(SYSCLK)/1000000L); // Set Timer3 to overflow in 1us.
0074 7592D0     643            mov     _TMR3RL,#0xD0
0077 7593FF     644            mov     (_TMR3RL >> 8),#0xFF
007A            645   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:151: TMR3 = TMR3RL;                 // Initialize Timer3 for first overflow
007A 859294     646            mov     _TMR3,_TMR3RL
007D 859395     647            mov     (_TMR3 >> 8),(_TMR3RL >> 8)
0080            648   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:153: TMR3CN = 0x04;                 // Sart Timer3 and clear overflow flag
0080 759104     649            mov     _TMR3CN,#0x04
0083            650   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:154: for (i = 0; i < us; i++)       // Count <us> overflows
0083 7B00       651            mov     r3,#0x00
0085            652   L007004?:
0085 C3         653            clr     c
0086 EB         654            mov     a,r3
0087 9A         655            subb    a,r2
0088 5001       656            jnc     L007007?
008A            657   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:156: while (!(TMR3CN & 0x80));  // Wait for overflow
008A            658   L007001?:
008A E591       659            mov     a,_TMR3CN
008C 30E700     660            jnb     acc.7,L007001?
008F            661   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:157: TMR3CN &= ~(0x80);         // Clear overflow indicator
008F 53917F     662            anl     _TMR3CN,#0x7F
0092            663   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:154: for (i = 0; i < us; i++)       // Count <us> overflows
0092 0B         664            inc     r3
0093 8001       665            sjmp    L007004?
0095            666   L007007?:
0095            667   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:159: TMR3CN = 0 ;                   // Stop Timer3 and clear overflow flag
0095 759100     668            mov     _TMR3CN,#0x00
0098 22         669            ret
0099            670   ;------------------------------------------------------------
0099            671   ;Allocation info for local variables in function 'waitms'
0099            672   ;------------------------------------------------------------
0099            673   ;ms                        Allocated to registers r2 r3 
0099            674   ;j                         Allocated to registers r2 r3 
0099            675   ;------------------------------------------------------------
0099            676   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:162: void waitms (unsigned int ms)
0099            677   ;        -----------------------------------------
0099            678   ;         function waitms
0099            679   ;        -----------------------------------------
0099            680   _waitms:
0099 AA82       681            mov     r2,dpl
009B AB83       682            mov     r3,dph
009D            683   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:165: for(j=ms; j!=0; j--)
009D            684   L008001?:
009D BA0000     685            cjne    r2,#0x00,L008010?
00A0 BB0000     686            cjne    r3,#0x00,L008010?
00A3 22         687            ret
00A4            688   L008010?:
00A4            689   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:167: Timer3us(249);
00A4 7582F9     690            mov     dpl,#0xF9
00A7 C002       691            push    ar2
00A9 C003       692            push    ar3
00AB 120100     693            lcall   _Timer3us
00AE            694   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:168: Timer3us(249);
00AE 7582F9     695            mov     dpl,#0xF9
00B1 120100     696            lcall   _Timer3us
00B4            697   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:169: Timer3us(249);
00B4 7582F9     698            mov     dpl,#0xF9
00B7 120100     699            lcall   _Timer3us
00BA            700   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:170: Timer3us(250);
00BA 7582FA     701            mov     dpl,#0xFA
00BD 120100     702            lcall   _Timer3us
00C0 D003       703            pop     ar3
00C2 D002       704            pop     ar2
00C4            705   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:165: for(j=ms; j!=0; j--)
00C4 1A         706            dec     r2
00C5 BAFF40     707            cjne    r2,#0xff,L008011?
00C8 1B         708            dec     r3
00C9            709   L008011?:
00C9 8001       710            sjmp    L008001?
00CB            711   ;------------------------------------------------------------
00CB            712   ;Allocation info for local variables in function 'InitADC'
00CB            713   ;------------------------------------------------------------
00CB            714   ;------------------------------------------------------------
00CB            715   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:174: void InitADC (void)
00CB            716   ;        -----------------------------------------
00CB            717   ;         function InitADC
00CB            718   ;        -----------------------------------------
00CB            719   _InitADC:
00CB            720   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:177: ADC0CF = 0xF8; // SAR clock = 31, Right-justified result
00CB 75BCF8     721            mov     _ADC0CF,#0xF8
00CE            722   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:178: ADC0CN = 0b_1000_0000; // AD0EN=1, AD0TM=0
00CE 75E880     723            mov     _ADC0CN,#0x80
00D1            724   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:179: REF0CN = 0b_0000_1000; //Select VDD as the voltage reference for the converter
00D1 75D108     725            mov     _REF0CN,#0x08
00D4 22         726            ret
00D5            727   ;------------------------------------------------------------
00D5            728   ;Allocation info for local variables in function 'InitPinADC'
00D5            729   ;------------------------------------------------------------
00D5            730   ;pinno                     Allocated with name '_InitPinADC_PARM_2'
00D5            731   ;portno                    Allocated to registers r2 
00D5            732   ;mask                      Allocated to registers r3 
00D5            733   ;------------------------------------------------------------
00D5            734   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:182: void InitPinADC (unsigned char portno, unsigned char pinno)
00D5            735   ;        -----------------------------------------
00D5            736   ;         function InitPinADC
00D5            737   ;        -----------------------------------------
00D5            738   _InitPinADC:
00D5 AA82       739            mov     r2,dpl
00D7            740   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:186: mask=1<<pinno;
00D7 8540F0     741            mov     b,_InitPinADC_PARM_2
00DA 05F0       742            inc     b
00DC 7401       743            mov     a,#0x01
00DE 8001       744            sjmp    L010012?
00E0            745   L010010?:
00E0 25E0       746            add     a,acc
00E2            747   L010012?:
00E2 D5F000     748            djnz    b,L010010?
00E5 FB         749            mov     r3,a
00E6            750   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:188: switch (portno)
00E6 EA         751            mov     a,r2
00E7 24FC       752            add     a,#0xff - 0x03
00E9 4001       753            jc      L010007?
00EB EA         754            mov     a,r2
00EC 2A         755            add     a,r2
00ED 2A         756            add     a,r2
00EE 909680     757            mov     dptr,#L010014?
00F1 73         758            jmp     @a+dptr
00F2            759   L010014?:
00F2 020100     760            ljmp    L010001?
00F5 020100     761            ljmp    L010002?
00F8 020100     762            ljmp    L010003?
00FB 020100     763            ljmp    L010004?
00FE            764   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:190: case 0:
00FE            765   L010001?:
00FE            766   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:191: P0MDIN &= (~mask); // Set pin as analog input
00FE EB         767            mov     a,r3
00FF F4         768            cpl     a
0100 52F1       769            anl     _P0MDIN,a
0102            770   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:192: P0SKIP |= mask; // Skip Crossbar decoding for this pin
0102 EB         771            mov     a,r3
0103 42D4       772            orl     _P0SKIP,a
0105            773   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:193: break;
0105            774   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:194: case 1:
0105 22         775            ret
0106            776   L010002?:
0106            777   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:195: P1MDIN &= (~mask); // Set pin as analog input
0106 EB         778            mov     a,r3
0107 F4         779            cpl     a
0108 52F2       780            anl     _P1MDIN,a
010A            781   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:196: P1SKIP |= mask; // Skip Crossbar decoding for this pin
010A EB         782            mov     a,r3
010B 42D5       783            orl     _P1SKIP,a
010D            784   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:197: break;
010D            785   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:198: case 2:
010D 22         786            ret
010E            787   L010003?:
010E            788   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:199: P2MDIN &= (~mask); // Set pin as analog input
010E EB         789            mov     a,r3
010F F4         790            cpl     a
0110 52F3       791            anl     _P2MDIN,a
0112            792   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:200: P2SKIP |= mask; // Skip Crossbar decoding for this pin
0112 EB         793            mov     a,r3
0113 42D6       794            orl     _P2SKIP,a
0115            795   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:201: break;
0115            796   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:202: case 3:
0115 22         797            ret
0116            798   L010004?:
0116            799   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:203: P3MDIN &= (~mask); // Set pin as analog input
0116 EB         800            mov     a,r3
0117 F4         801            cpl     a
0118 FA         802            mov     r2,a
0119 52F4       803            anl     _P3MDIN,a
011B            804   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:204: P3SKIP |= mask; // Skip Crossbar decoding for this pin
011B EB         805            mov     a,r3
011C 42DF       806            orl     _P3SKIP,a
011E            807   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:208: }
011E            808   L010007?:
011E 22         809            ret
011F            810   ;------------------------------------------------------------
011F            811   ;Allocation info for local variables in function 'ADC_at_Pin'
011F            812   ;------------------------------------------------------------
011F            813   ;pin                       Allocated to registers 
011F            814   ;------------------------------------------------------------
011F            815   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:211: unsigned int ADC_at_Pin(unsigned char pin)
011F            816   ;        -----------------------------------------
011F            817   ;         function ADC_at_Pin
011F            818   ;        -----------------------------------------
011F            819   _ADC_at_Pin:
011F 8582BB     820            mov     _AMX0P,dpl
0122            821   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:214: AMX0N = LQFP32_MUX_GND;  // GND is negative input (Single-ended Mode)
0122 75BA1F     822            mov     _AMX0N,#0x1F
0125            823   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:216: AD0BUSY=1;
0125 D2EC       824            setb    _AD0BUSY
0127            825   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:217: while (AD0BUSY); // Wait for dummy conversion to finish
0127            826   L011001?:
0127 20ECC0     827            jb      _AD0BUSY,L011001?
012A            828   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:219: AD0BUSY = 1;
012A D2EC       829            setb    _AD0BUSY
012C            830   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:220: while (AD0BUSY); // Wait for conversion to complete
012C            831   L011004?:
012C 20EC00     832            jb      _AD0BUSY,L011004?
012F            833   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:221: return (ADC0L+(ADC0H*0x100));
012F AABD       834            mov     r2,_ADC0L
0131 7B00       835            mov     r3,#0x00
0133 ADBE       836            mov     r5,_ADC0H
0135 7C00       837            mov     r4,#0x00
0137 EC         838            mov     a,r4
0138 2A         839            add     a,r2
0139 F582       840            mov     dpl,a
013B ED         841            mov     a,r5
013C 3B         842            addc    a,r3
013D F583       843            mov     dph,a
013F 22         844            ret
0140            845   ;------------------------------------------------------------
0140            846   ;Allocation info for local variables in function 'Volts_at_Pin'
0140            847   ;------------------------------------------------------------
0140            848   ;pin                       Allocated to registers r2 
0140            849   ;------------------------------------------------------------
0140            850   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:224: float Volts_at_Pin(unsigned char pin)
0140            851   ;        -----------------------------------------
0140            852   ;         function Volts_at_Pin
0140            853   ;        -----------------------------------------
0140            854   _Volts_at_Pin:
0140            855   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:226: return ((ADC_at_Pin(pin)*3.30)/1024.0);
0140 120100     856            lcall   _ADC_at_Pin
0143 120100     857            lcall   ___uint2fs
0146 AA82       858            mov     r2,dpl
0148 AB83       859            mov     r3,dph
014A ACF0       860            mov     r4,b
014C FD         861            mov     r5,a
014D C002       862            push    ar2
014F C003       863            push    ar3
0151 C004       864            push    ar4
0153 C005       865            push    ar5
0155 903333     866            mov     dptr,#0x3333
0158 75F053     867            mov     b,#0x53
015B 7440       868            mov     a,#0x40
015D 120100     869            lcall   ___fsmul
0160 AA82       870            mov     r2,dpl
0162 AB83       871            mov     r3,dph
0164 ACF0       872            mov     r4,b
0166 FD         873            mov     r5,a
0167 E581       874            mov     a,sp
0169 24FC       875            add     a,#0xfc
016B F581       876            mov     sp,a
016D E4         877            clr     a
016E C0E0       878            push    acc
0170 C0E0       879            push    acc
0172 7480       880            mov     a,#0x80
0174 C0E0       881            push    acc
0176 7444       882            mov     a,#0x44
0178 C0E0       883            push    acc
017A 8A82       884            mov     dpl,r2
017C 8B83       885            mov     dph,r3
017E 8CF0       886            mov     b,r4
0180 ED         887            mov     a,r5
0181 120100     888            lcall   ___fsdiv
0184 AA82       889            mov     r2,dpl
0186 AB83       890            mov     r3,dph
0188 ACF0       891            mov     r4,b
018A FD         892            mov     r5,a
018B E581       893            mov     a,sp
018D 24FC       894            add     a,#0xfc
018F F581       895            mov     sp,a
0191 8A82       896            mov     dpl,r2
0193 8B83       897            mov     dph,r3
0195 8CF0       898            mov     b,r4
0197 ED         899            mov     a,r5
0198 22         900            ret
0199            901   ;------------------------------------------------------------
0199            902   ;Allocation info for local variables in function 'main'
0199            903   ;------------------------------------------------------------
0199            904   ;V                         Allocated with name '_main_V_1_90'
0199            905   ;sloc0                     Allocated with name '_main_sloc0_1_0'
0199            906   ;sloc1                     Allocated with name '_main_sloc1_1_0'
0199            907   ;------------------------------------------------------------
0199            908   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:229: void main (void)
0199            909   ;        -----------------------------------------
0199            910   ;         function main
0199            911   ;        -----------------------------------------
0199            912   _main:
0199            913   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:232: PORT_Init();     // Initialize Port I/O
0199 120100     914            lcall   _PORT_Init
019C            915   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:233: SYSCLK_Init ();  // Initialize Oscillator
019C 120100     916            lcall   _SYSCLK_Init
019F            917   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:234: UART0_Init();    // Initialize UART0
019F 120100     918            lcall   _UART0_Init
01A2            919   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:235: TIMER0_Init();
01A2 120100     920            lcall   _TIMER0_Init
01A5            921   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:237: printf("\x1b[2J"); // Clear screen using ANSI escape sequence.
01A5 7440       922            mov     a,#__str_0
01A7 C0E0       923            push    acc
01A9 7499       924            mov     a,#(__str_0 >> 8)
01AB C0E0       925            push    acc
01AD 7480       926            mov     a,#0x80
01AF C0E0       927            push    acc
01B1 120100     928            lcall   _printf
01B4 1581       929            dec     sp
01B6 1581       930            dec     sp
01B8 1581       931            dec     sp
01BA            932   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:238: printf("\r\nUsing ADC with arbitrary pins.\r\n");
01BA 74C0       933            mov     a,#__str_1
01BC C0E0       934            push    acc
01BE 7499       935            mov     a,#(__str_1 >> 8)
01C0 C0E0       936            push    acc
01C2 7480       937            mov     a,#0x80
01C4 C0E0       938            push    acc
01C6 120100     939            lcall   _printf
01C9 1581       940            dec     sp
01CB 1581       941            dec     sp
01CD 1581       942            dec     sp
01CF            943   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:242: InitPinADC(2, 1); // Configure P2.1 as analog input
01CF 754001     944            mov     _InitPinADC_PARM_2,#0x01
01D2 758202     945            mov     dpl,#0x02
01D5 120100     946            lcall   _InitPinADC
01D8            947   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:243: InitPinADC(2, 2); // Configure P2.2 as analog input
01D8 754002     948            mov     _InitPinADC_PARM_2,#0x02
01DB 758202     949            mov     dpl,#0x02
01DE 120100     950            lcall   _InitPinADC
01E1            951   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:246: InitADC();
01E1 120100     952            lcall   _InitADC
01E4            953   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:248: while(1)
01E4            954   L013039?:
01E4            955   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:258: PCA0MD &= ~0x40; // WDTE = 0 (clear watchdog timer enable)
01E4 53D9BF     956            anl     _PCA0MD,#0xBF
01E7            957   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:276: TL0=0; 
01E7 758A00     958            mov     _TL0,#0x00
01EA            959   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:277: TH0=0;
01EA 758C00     960            mov     _TH0,#0x00
01ED            961   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:278: TF0=0;
01ED C28D       962            clr     _TF0
01EF            963   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:279: overflow_count=0;
01EF 755800     964            mov     _overflow_count,#0x00
01F2            965   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:281: while(P2_3!=0); // Wait for the signal to be zero
01F2            966   L013001?:
01F2 20A340     967            jb      _P2_3,L013001?
01F5            968   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:282: while(P2_3!=1); // Wait for the signal to be one
01F5            969   L013004?:
01F5 30A380     970            jnb     _P2_3,L013004?
01F8            971   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:283: TR0=1; // Start the timer
01F8 D28C       972            setb    _TR0
01FA            973   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:284: while(P2_3!=0) // Wait for the signal to be zero
01FA            974   L013009?:
01FA 30A300     975            jnb     _P2_3,L013014?
01FD            976   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:286: if(TF0==1) // Did the 16-bit timer overflow?
01FD            977   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:288: TF0=0;
01FD 108D40     978            jbc     _TF0,L013067?
0200 8001       979            sjmp    L013009?
0202            980   L013067?:
0202            981   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:289: overflow_count++;
0202 0558       982            inc     _overflow_count
0204            983   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:292: while(P2_3!=1) // Wait for the signal to be one
0204 8001       984            sjmp    L013009?
0206            985   L013014?:
0206 20A380     986            jb      _P2_3,L013016?
0209            987   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:294: if(TF0==1) // Did the 16-bit timer overflow?
0209            988   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:296: TF0=0;
0209 108DC0     989            jbc     _TF0,L013069?
020C 8001       990            sjmp    L013014?
020E            991   L013069?:
020E            992   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:297: overflow_count++;
020E 0558       993            inc     _overflow_count
0210 8001       994            sjmp    L013014?
0212            995   L013016?:
0212            996   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:300: TR0=0; // Stop timer 0, the 24-bit number [overflow_count-TH0-TL0] has the period!
0212 C28C       997            clr     _TR0
0214            998   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:301: period=(overflow_count*65536.0+TH0*256.0+TL0)*(12000.0/SYSCLK);
0214 855882     999            mov     dpl,_overflow_count
0217 120100    1000            lcall   ___uchar2fs
021A AA82      1001            mov     r2,dpl
021C AB83      1002            mov     r3,dph
021E ACF0      1003            mov     r4,b
0220 FD        1004            mov     r5,a
0221 C002      1005            push    ar2
0223 C003      1006            push    ar3
0225 C004      1007            push    ar4
0227 C005      1008            push    ar5
0229 900000    1009            mov     dptr,#0x0000
022C 75F080    1010            mov     b,#0x80
022F 7447      1011            mov     a,#0x47
0231 120100    1012            lcall   ___fsmul
0234 858280    1013            mov     _main_sloc0_1_0,dpl
0237 858381    1014            mov     (_main_sloc0_1_0 + 1),dph
023A 85F082    1015            mov     (_main_sloc0_1_0 + 2),b
023D F583      1016            mov     (_main_sloc0_1_0 + 3),a
023F E581      1017            mov     a,sp
0241 24FC      1018            add     a,#0xfc
0243 F581      1019            mov     sp,a
0245 858C82    1020            mov     dpl,_TH0
0248 120100    1021            lcall   ___uchar2fs
024B AE82      1022            mov     r6,dpl
024D AF83      1023            mov     r7,dph
024F AAF0      1024            mov     r2,b
0251 FB        1025            mov     r3,a
0252 C006      1026            push    ar6
0254 C007      1027            push    ar7
0256 C002      1028            push    ar2
0258 C003      1029            push    ar3
025A 900000    1030            mov     dptr,#0x0000
025D 75F080    1031            mov     b,#0x80
0260 7443      1032            mov     a,#0x43
0262 120100    1033            lcall   ___fsmul
0265 AA82      1034            mov     r2,dpl
0267 AB83      1035            mov     r3,dph
0269 ACF0      1036            mov     r4,b
026B FD        1037            mov     r5,a
026C E581      1038            mov     a,sp
026E 24FC      1039            add     a,#0xfc
0270 F581      1040            mov     sp,a
0272 C002      1041            push    ar2
0274 C003      1042            push    ar3
0276 C004      1043            push    ar4
0278 C005      1044            push    ar5
027A 858082    1045            mov     dpl,_main_sloc0_1_0
027D 858183    1046            mov     dph,(_main_sloc0_1_0 + 1)
0280 8582F0    1047            mov     b,(_main_sloc0_1_0 + 2)
0283 E583      1048            mov     a,(_main_sloc0_1_0 + 3)
0285 120100    1049            lcall   ___fsadd
0288 858280    1050            mov     _main_sloc0_1_0,dpl
028B 858381    1051            mov     (_main_sloc0_1_0 + 1),dph
028E 85F082    1052            mov     (_main_sloc0_1_0 + 2),b
0291 F583      1053            mov     (_main_sloc0_1_0 + 3),a
0293 E581      1054            mov     a,sp
0295 24FC      1055            add     a,#0xfc
0297 F581      1056            mov     sp,a
0299 AE8A      1057            mov     r6,_TL0
029B 7F00      1058            mov     r7,#0x00
029D 8E82      1059            mov     dpl,r6
029F 8F83      1060            mov     dph,r7
02A1 120100    1061            lcall   ___sint2fs
02A4 AE82      1062            mov     r6,dpl
02A6 AF83      1063            mov     r7,dph
02A8 AAF0      1064            mov     r2,b
02AA FB        1065            mov     r3,a
02AB C006      1066            push    ar6
02AD C007      1067            push    ar7
02AF C002      1068            push    ar2
02B1 C003      1069            push    ar3
02B3 858082    1070            mov     dpl,_main_sloc0_1_0
02B6 858183    1071            mov     dph,(_main_sloc0_1_0 + 1)
02B9 8582F0    1072            mov     b,(_main_sloc0_1_0 + 2)
02BC E583      1073            mov     a,(_main_sloc0_1_0 + 3)
02BE 120100    1074            lcall   ___fsadd
02C1 AA82      1075            mov     r2,dpl
02C3 AB83      1076            mov     r3,dph
02C5 ACF0      1077            mov     r4,b
02C7 FD        1078            mov     r5,a
02C8 E581      1079            mov     a,sp
02CA 24FC      1080            add     a,#0xfc
02CC F581      1081            mov     sp,a
02CE C002      1082            push    ar2
02D0 C003      1083            push    ar3
02D2 C004      1084            push    ar4
02D4 C005      1085            push    ar5
02D6 90126F    1086            mov     dptr,#0x126F
02D9 75F083    1087            mov     b,#0x83
02DC 7439      1088            mov     a,#0x39
02DE 120100    1089            lcall   ___fsmul
02E1 858238    1090            mov     _period,dpl
02E4 858339    1091            mov     (_period + 1),dph
02E7 85F03A    1092            mov     (_period + 2),b
02EA F53B      1093            mov     (_period + 3),a
02EC E581      1094            mov     a,sp
02EE 24FC      1095            add     a,#0xfc
02F0 F581      1096            mov     sp,a
02F2           1097   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:306: while(P2_3!=0);
02F2           1098   L013017?:
02F2 20A3C0    1099            jb      _P2_3,L013017?
02F5           1100   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:308: while(P2_3!=1);
02F5           1101   L013020?:
02F5 30A300    1102            jnb     _P2_3,L013020?
02F8           1103   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:310: TL0=0; 
02F8 758A00    1104            mov     _TL0,#0x00
02FB           1105   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:311: TH0=0;
02FB 758C00    1106            mov     _TH0,#0x00
02FE           1107   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:312: TF0=0; 
02FE C28D      1108            clr     _TF0
0300           1109   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:313: TR0=1;
0300 D28C      1110            setb    _TR0
0302           1111   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:314: waitms(1000*(period/4));
0302 E4        1112            clr     a
0303 C0E0      1113            push    acc
0305 C0E0      1114            push    acc
0307 7480      1115            mov     a,#0x80
0309 C0E0      1116            push    acc
030B 7440      1117            mov     a,#0x40
030D C0E0      1118            push    acc
030F 853882    1119            mov     dpl,_period
0312 853983    1120            mov     dph,(_period + 1)
0315 853AF0    1121            mov     b,(_period + 2)
0318 E53B      1122            mov     a,(_period + 3)
031A 120100    1123            lcall   ___fsdiv
031D AA82      1124            mov     r2,dpl
031F AB83      1125            mov     r3,dph
0321 ACF0      1126            mov     r4,b
0323 FD        1127            mov     r5,a
0324 E581      1128            mov     a,sp
0326 24FC      1129            add     a,#0xfc
0328 F581      1130            mov     sp,a
032A C002      1131            push    ar2
032C C003      1132            push    ar3
032E C004      1133            push    ar4
0330 C005      1134            push    ar5
0332 900000    1135            mov     dptr,#0x0000
0335 75F07A    1136            mov     b,#0x7A
0338 7444      1137            mov     a,#0x44
033A 120100    1138            lcall   ___fsmul
033D AA82      1139            mov     r2,dpl
033F AB83      1140            mov     r3,dph
0341 ACF0      1141            mov     r4,b
0343 FD        1142            mov     r5,a
0344 E581      1143            mov     a,sp
0346 24FC      1144            add     a,#0xfc
0348 F581      1145            mov     sp,a
034A 8A82      1146            mov     dpl,r2
034C 8B83      1147            mov     dph,r3
034E 8CF0      1148            mov     b,r4
0350 ED        1149            mov     a,r5
0351 120100    1150            lcall   ___fs2uint
0354 120100    1151            lcall   _waitms
0357           1152   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:315: TR0=0;
0357 C28C      1153            clr     _TR0
0359           1154   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:316: V[0] = Volts_at_Pin(LQFP32_MUX_P2_2);
0359 75820A    1155            mov     dpl,#0x0A
035C 120100    1156            lcall   _Volts_at_Pin
035F AA82      1157            mov     r2,dpl
0361 AB83      1158            mov     r3,dph
0363 ACF0      1159            mov     r4,b
0365 FD        1160            mov     r5,a
0366 8A40      1161            mov     _main_V_1_90,r2
0368 8B41      1162            mov     (_main_V_1_90 + 1),r3
036A 8C42      1163            mov     (_main_V_1_90 + 2),r4
036C 8D43      1164            mov     (_main_V_1_90 + 3),r5
036E           1165   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:317: rms_voltage_ref = (V[0]/1.4142)*1000;
036E 7481      1166            mov     a,#0x81
0370 C0E0      1167            push    acc
0372 7404      1168            mov     a,#0x04
0374 C0E0      1169            push    acc
0376 74B5      1170            mov     a,#0xB5
0378 C0E0      1171            push    acc
037A 743F      1172            mov     a,#0x3F
037C C0E0      1173            push    acc
037E 854082    1174            mov     dpl,_main_V_1_90
0381 854183    1175            mov     dph,(_main_V_1_90 + 1)
0384 8542F0    1176            mov     b,(_main_V_1_90 + 2)
0387 E543      1177            mov     a,(_main_V_1_90 + 3)
0389 120100    1178            lcall   ___fsdiv
038C AA82      1179            mov     r2,dpl
038E AB83      1180            mov     r3,dph
0390 ACF0      1181            mov     r4,b
0392 FD        1182            mov     r5,a
0393 E581      1183            mov     a,sp
0395 24FC      1184            add     a,#0xfc
0397 F581      1185            mov     sp,a
0399 C002      1186            push    ar2
039B C003      1187            push    ar3
039D C004      1188            push    ar4
039F C005      1189            push    ar5
03A1 900000    1190            mov     dptr,#0x0000
03A4 75F07A    1191            mov     b,#0x7A
03A7 7444      1192            mov     a,#0x44
03A9 120100    1193            lcall   ___fsmul
03AC 858238    1194            mov     _rms_voltage_ref,dpl
03AF 858339    1195            mov     (_rms_voltage_ref + 1),dph
03B2 85F03A    1196            mov     (_rms_voltage_ref + 2),b
03B5 F53B      1197            mov     (_rms_voltage_ref + 3),a
03B7 E581      1198            mov     a,sp
03B9 24FC      1199            add     a,#0xfc
03BB F581      1200            mov     sp,a
03BD           1201   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:319: while(P2_0!=0);
03BD           1202   L013023?:
03BD 20A080    1203            jb      _P2_0,L013023?
03C0           1204   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:321: while(P2_0!=1);
03C0           1205   L013026?:
03C0 30A0C0    1206            jnb     _P2_0,L013026?
03C3           1207   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:323: TL0=0; 
03C3 758A00    1208            mov     _TL0,#0x00
03C6           1209   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:324: TH0=0;
03C6 758C00    1210            mov     _TH0,#0x00
03C9           1211   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:325: TF0=0; 
03C9 C28D      1212            clr     _TF0
03CB           1213   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:326: TR0=1;
03CB D28C      1214            setb    _TR0
03CD           1215   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:328: waitms(1000*(period/4));
03CD E4        1216            clr     a
03CE C0E0      1217            push    acc
03D0 C0E0      1218            push    acc
03D2 7480      1219            mov     a,#0x80
03D4 C0E0      1220            push    acc
03D6 7440      1221            mov     a,#0x40
03D8 C0E0      1222            push    acc
03DA 853882    1223            mov     dpl,_period
03DD 853983    1224            mov     dph,(_period + 1)
03E0 853AF0    1225            mov     b,(_period + 2)
03E3 E53B      1226            mov     a,(_period + 3)
03E5 120100    1227            lcall   ___fsdiv
03E8 AA82      1228            mov     r2,dpl
03EA AB83      1229            mov     r3,dph
03EC ACF0      1230            mov     r4,b
03EE FD        1231            mov     r5,a
03EF E581      1232            mov     a,sp
03F1 24FC      1233            add     a,#0xfc
03F3 F581      1234            mov     sp,a
03F5 C002      1235            push    ar2
03F7 C003      1236            push    ar3
03F9 C004      1237            push    ar4
03FB C005      1238            push    ar5
03FD 900000    1239            mov     dptr,#0x0000
0400 75F07A    1240            mov     b,#0x7A
0403 7444      1241            mov     a,#0x44
0405 120100    1242            lcall   ___fsmul
0408 AA82      1243            mov     r2,dpl
040A AB83      1244            mov     r3,dph
040C ACF0      1245            mov     r4,b
040E FD        1246            mov     r5,a
040F E581      1247            mov     a,sp
0411 24FC      1248            add     a,#0xfc
0413 F581      1249            mov     sp,a
0415 8A82      1250            mov     dpl,r2
0417 8B83      1251            mov     dph,r3
0419 8CF0      1252            mov     b,r4
041B ED        1253            mov     a,r5
041C 120100    1254            lcall   ___fs2uint
041F 120100    1255            lcall   _waitms
0422           1256   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:329: TR0=0;
0422 C28C      1257            clr     _TR0
0424           1258   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:330: V[1] = Volts_at_Pin(LQFP32_MUX_P2_1);
0424 758209    1259            mov     dpl,#0x09
0427 120100    1260            lcall   _Volts_at_Pin
042A AA82      1261            mov     r2,dpl
042C AB83      1262            mov     r3,dph
042E ACF0      1263            mov     r4,b
0430 FD        1264            mov     r5,a
0431 8A44      1265            mov     (_main_V_1_90 + 0x0004),r2
0433 8B45      1266            mov     ((_main_V_1_90 + 0x0004) + 1),r3
0435 8C46      1267            mov     ((_main_V_1_90 + 0x0004) + 2),r4
0437 8D47      1268            mov     ((_main_V_1_90 + 0x0004) + 3),r5
0439           1269   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:331: rms_voltage_test = (V[1]/1.4142)*1000;       
0439 7481      1270            mov     a,#0x81
043B C0E0      1271            push    acc
043D 7404      1272            mov     a,#0x04
043F C0E0      1273            push    acc
0441 74B5      1274            mov     a,#0xB5
0443 C0E0      1275            push    acc
0445 743F      1276            mov     a,#0x3F
0447 C0E0      1277            push    acc
0449 854482    1278            mov     dpl,(_main_V_1_90 + 0x0004)
044C 854583    1279            mov     dph,((_main_V_1_90 + 0x0004) + 1)
044F 8546F0    1280            mov     b,((_main_V_1_90 + 0x0004) + 2)
0452 E547      1281            mov     a,((_main_V_1_90 + 0x0004) + 3)
0454 120100    1282            lcall   ___fsdiv
0457 AA82      1283            mov     r2,dpl
0459 AB83      1284            mov     r3,dph
045B ACF0      1285            mov     r4,b
045D FD        1286            mov     r5,a
045E E581      1287            mov     a,sp
0460 24FC      1288            add     a,#0xfc
0462 F581      1289            mov     sp,a
0464 C002      1290            push    ar2
0466 C003      1291            push    ar3
0468 C004      1292            push    ar4
046A C005      1293            push    ar5
046C 900000    1294            mov     dptr,#0x0000
046F 75F07A    1295            mov     b,#0x7A
0472 7444      1296            mov     a,#0x44
0474 120100    1297            lcall   ___fsmul
0477 8582E8    1298            mov     _rms_voltage_test,dpl
047A 8583E9    1299            mov     (_rms_voltage_test + 1),dph
047D 85F0EA    1300            mov     (_rms_voltage_test + 2),b
0480 F5EB      1301            mov     (_rms_voltage_test + 3),a
0482 E581      1302            mov     a,sp
0484 24FC      1303            add     a,#0xfc
0486 F581      1304            mov     sp,a
0488           1305   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:334: while(P2_3!=0);
0488           1306   L013029?:
0488 20A300    1307            jb      _P2_3,L013029?
048B           1308   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:336: while(P2_3!=1);
048B           1309   L013032?:
048B 30A340    1310            jnb     _P2_3,L013032?
048E           1311   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:338: TL0=0; 
048E 758A00    1312            mov     _TL0,#0x00
0491           1313   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:339: TH0=0;
0491 758C00    1314            mov     _TH0,#0x00
0494           1315   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:340: TF0=0;
0494 C28D      1316            clr     _TF0
0496           1317   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:341: TR0=1;
0496 D28C      1318            setb    _TR0
0498           1319   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:342: while(P2_0!=1);
0498           1320   L013035?:
0498 30A080    1321            jnb     _P2_0,L013035?
049B           1322   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:344: TR0=0;
049B C28C      1323            clr     _TR0
049D           1324   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:345: freq = 1/period;
049D C038      1325            push    _period
049F C039      1326            push    (_period + 1)
04A1 C03A      1327            push    (_period + 2)
04A3 C03B      1328            push    (_period + 3)
04A5 900000    1329            mov     dptr,#0x0000
04A8 75F080    1330            mov     b,#0x80
04AB 743F      1331            mov     a,#0x3F
04AD 120100    1332            lcall   ___fsdiv
04B0 858278    1333            mov     _freq,dpl
04B3 858379    1334            mov     (_freq + 1),dph
04B6 85F07A    1335            mov     (_freq + 2),b
04B9 F57B      1336            mov     (_freq + 3),a
04BB E581      1337            mov     a,sp
04BD 24FC      1338            add     a,#0xfc
04BF F581      1339            mov     sp,a
04C1           1340   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:346: phase=((TH0*0x100+TL0)*(12.0/SYSCLK))*freq*360;
04C1 C078      1341            push    _freq
04C3 C079      1342            push    (_freq + 1)
04C5 C07A      1343            push    (_freq + 2)
04C7 C07B      1344            push    (_freq + 3)
04C9 90BE62    1345            mov     dptr,#0xBE62
04CC 75F0BC    1346            mov     b,#0xBC
04CF 7438      1347            mov     a,#0x38
04D1 120100    1348            lcall   ___fsmul
04D4 8582C0    1349            mov     _main_sloc1_1_0,dpl
04D7 8583C1    1350            mov     (_main_sloc1_1_0 + 1),dph
04DA 85F0C2    1351            mov     (_main_sloc1_1_0 + 2),b
04DD F5C3      1352            mov     (_main_sloc1_1_0 + 3),a
04DF E581      1353            mov     a,sp
04E1 24FC      1354            add     a,#0xfc
04E3 F581      1355            mov     sp,a
04E5 AE8C      1356            mov     r6,_TH0
04E7 8E81      1357            mov     (_main_sloc0_1_0 + 1),r6
04E9 758000    1358            mov     _main_sloc0_1_0,#0x00
04EC AE8A      1359            mov     r6,_TL0
04EE 7F00      1360            mov     r7,#0x00
04F0 EE        1361            mov     a,r6
04F1 2580      1362            add     a,_main_sloc0_1_0
04F3 F582      1363            mov     dpl,a
04F5 EF        1364            mov     a,r7
04F6 3581      1365            addc    a,(_main_sloc0_1_0 + 1)
04F8 F583      1366            mov     dph,a
04FA 120100    1367            lcall   ___sint2fs
04FD AE82      1368            mov     r6,dpl
04FF AF83      1369            mov     r7,dph
0501 AAF0      1370            mov     r2,b
0503 FB        1371            mov     r3,a
0504 C006      1372            push    ar6
0506 C007      1373            push    ar7
0508 C002      1374            push    ar2
050A C003      1375            push    ar3
050C 85C082    1376            mov     dpl,_main_sloc1_1_0
050F 85C183    1377            mov     dph,(_main_sloc1_1_0 + 1)
0512 85C2F0    1378            mov     b,(_main_sloc1_1_0 + 2)
0515 E5C3      1379            mov     a,(_main_sloc1_1_0 + 3)
0517 120100    1380            lcall   ___fsmul
051A 858298    1381            mov     _phase,dpl
051D 858399    1382            mov     (_phase + 1),dph
0520 85F09A    1383            mov     (_phase + 2),b
0523 F59B      1384            mov     (_phase + 3),a
0525 E581      1385            mov     a,sp
0527 24FC      1386            add     a,#0xfc
0529 F581      1387            mov     sp,a
052B           1388   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:348: printf("R RMS V=%3.3f mV, T RMS V=%3.3f mV, P=%3.3f degrees, F=%3.3f kHz     \r",rms_voltage_ref, rms_voltage_test, phase, freq);
052B C078      1389            push    _freq
052D C079      1390            push    (_freq + 1)
052F C07A      1391            push    (_freq + 2)
0531 C07B      1392            push    (_freq + 3)
0533 C098      1393            push    _phase
0535 C099      1394            push    (_phase + 1)
0537 C09A      1395            push    (_phase + 2)
0539 C09B      1396            push    (_phase + 3)
053B C0E8      1397            push    _rms_voltage_test
053D C0E9      1398            push    (_rms_voltage_test + 1)
053F C0EA      1399            push    (_rms_voltage_test + 2)
0541 C0EB      1400            push    (_rms_voltage_test + 3)
0543 C038      1401            push    _rms_voltage_ref
0545 C039      1402            push    (_rms_voltage_ref + 1)
0547 C03A      1403            push    (_rms_voltage_ref + 2)
0549 C03B      1404            push    (_rms_voltage_ref + 3)
054B 74C0      1405            mov     a,#__str_2
054D C0E0      1406            push    acc
054F 749E      1407            mov     a,#(__str_2 >> 8)
0551 C0E0      1408            push    acc
0553 7480      1409            mov     a,#0x80
0555 C0E0      1410            push    acc
0557 120100    1411            lcall   _printf
055A E581      1412            mov     a,sp
055C 24ED      1413            add     a,#0xed
055E F581      1414            mov     sp,a
0560           1415   ;        C:\Users\jeffreyliou\Desktop\elec291\project2\C851F381_ADC_any_pins.c:349: waitms(100);
0560 900064    1416            mov     dptr,#0x0064
0563 120100    1417            lcall   _waitms
0566 020100    1418            ljmp    L013039?
0569           1419            rseg R_CSEG
0569           1420   
0000           1421            rseg R_XINIT
0000           1422   
0000           1423            rseg R_CONST
0000           1424   __str_0:
0000 1B        1425            db 0x1B
0001 5B324A    1426            db '[2J'
0004 00        1427            db 0x00
0005           1428   __str_1:
0005 0D        1429            db 0x0D
0006 0A        1430            db 0x0A
0007 5573696E  1431            db 'Using ADC with arbitrary pins.'
     67204144
     43207769
     74682061
     72626974
     72617279
     2070696E
     732E
0025 0D        1432            db 0x0D
0026 0A        1433            db 0x0A
0027 00        1434            db 0x00
0028           1435   __str_2:
0028 5220524D  1436            db 'R RMS V=%3.3f mV, T RMS V=%3.3f mV, P=%3.3f degrees, F=%3.3f'
     5320563D
     25332E33
     66206D56
     2C205420
     524D5320
     563D2533
     2E336620
     6D562C20
     503D2533
     2E336620
     64656772
     6565732C
     20463D25
     332E3366
0064 206B487A  1437            db ' kHz     '
     20202020
     20
006D 0D        1438            db 0x0D
006E 00        1439            db 0x00
006F           1440   
0003           1441            CSEG
0003           1442   
0003           1443   end
